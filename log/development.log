  [1m[35m (124.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (139.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to DeviseCreateUsers (20170424152702)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime, "remember_created_at" datetime, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170424152702"]]
  [1m[35m (121.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", 2017-04-24 15:27:24 UTC], ["updated_at", 2017-04-24 15:27:24 UTC]]
  [1m[35m (96.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateChatRooms (20170424152753)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "chat_rooms" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "user_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_chat_rooms_on_user_id" ON "chat_rooms" ("user_id")[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170424152753"]]
  [1m[35m (129.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_chat_rooms_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_chat_rooms_on_user_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateMessages (20170424153133)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "messages" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "body" text, "user_id" integer, "chat_room_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_messages_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_messages_on_user_id' AND type='index'
[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_chat_room_id" ON "messages" ("chat_room_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170424153133"]]
  [1m[35m (113.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_chat_rooms_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_chat_rooms_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_messages_on_chat_room_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_messages_on_chat_room_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_messages_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_messages_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
Started GET "/" for 127.0.0.1 at 2017-04-24 23:03:28 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by ChatRoomsController#index as HTML
Completed 401 Unauthorized in 44ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-04-24 23:03:28 +0700
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.2ms)
  Rendered devise/sessions/new.html.erb within layouts/application (35.1ms)
Completed 200 OK in 3933ms (Views: 3910.7ms | ActiveRecord: 1.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2017-04-24 23:03:54 +0700
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (3.0ms)
  Rendered devise/registrations/new.html.erb within layouts/application (7.4ms)
Completed 200 OK in 37ms (Views: 35.7ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2017-04-24 23:04:11 +0700
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"s1PHrBQOZGBXcEHFSNu0RTO+OMBxOK+djV+39s7G7GYY8iAHivTqbx/NwO07vQbHrZQ0M0HtX7JoAJx1lz9OPQ==", "user"=>{"email"=>"tanghoangphong@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.6ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "tanghoangphong@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "tanghoangphong@gmail.com"], ["encrypted_password", "$2a$11$VNNKXDVgR9TI/bDikDGese2Fr5iOYPpO6OBGkJJWt5J2LXIuOQaAy"], ["created_at", 2017-04-24 16:04:12 UTC], ["updated_at", 2017-04-24 16:04:12 UTC]]
  [1m[35m (142.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", 2017-04-24 16:04:12 UTC], ["last_sign_in_at", 2017-04-24 16:04:12 UTC], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", 2017-04-24 16:04:12 UTC], ["id", 1]]
  [1m[35m (149.5ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 596ms (ActiveRecord: 294.7ms)


Started GET "/" for 127.0.0.1 at 2017-04-24 23:04:12 +0700
Processing by ChatRoomsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering chat_rooms/index.html.erb within layouts/application
  [1m[36mChatRoom Load (0.2ms)[0m  [1m[34mSELECT "chat_rooms".* FROM "chat_rooms"[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered chat_rooms/index.html.erb within layouts/application (3.3ms)
Completed 200 OK in 47ms (Views: 35.2ms | ActiveRecord: 1.3ms)


Started GET "/chat_rooms/new" for 127.0.0.1 at 2017-04-24 23:04:16 +0700
Processing by ChatRoomsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering chat_rooms/new.html.erb within layouts/application
  Rendered chat_rooms/new.html.erb within layouts/application (4.4ms)
Completed 200 OK in 51ms (Views: 37.2ms | ActiveRecord: 1.2ms)


Started POST "/chat_rooms" for 127.0.0.1 at 2017-04-24 23:04:22 +0700
Processing by ChatRoomsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"TyYWOPWJ70hWi+B+NKt4UghM3B9EjAEuPI/eBBkTFB7i8plGVgU9xdvzJjdB5WY7pzWksaUbhGE+0+SVEYTM/Q==", "chat_room"=>{"title"=>"Phong Phong"}, "commit"=>"Add!"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "chat_rooms" ("title", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Phong Phong"], ["user_id", 1], ["created_at", 2017-04-24 16:04:22 UTC], ["updated_at", 2017-04-24 16:04:22 UTC]]
  [1m[35m (131.0ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/chat_rooms
Completed 302 Found in 212ms (ActiveRecord: 132.2ms)


Started GET "/chat_rooms" for 127.0.0.1 at 2017-04-24 23:04:22 +0700
Processing by ChatRoomsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering chat_rooms/index.html.erb within layouts/application
  [1m[36mChatRoom Load (0.2ms)[0m  [1m[34mSELECT "chat_rooms".* FROM "chat_rooms"[0m
  Rendered collection of chat_rooms/_chat_room.html.erb [1 times] (0.6ms)
  Rendered chat_rooms/index.html.erb within layouts/application (3.0ms)
Completed 200 OK in 34ms (Views: 30.9ms | ActiveRecord: 0.4ms)


Started GET "/chat_rooms/1" for 127.0.0.1 at 2017-04-24 23:04:24 +0700
Processing by ChatRoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatRoom Load (0.4ms)[0m  [1m[34mSELECT  "chat_rooms".* FROM "chat_rooms" WHERE "chat_rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_room_id" = 1[0m
  Rendering chat_rooms/show.html.erb within layouts/application
  Rendered collection of templates [0 times] (0.0ms)
  Rendered chat_rooms/show.html.erb within layouts/application (18.3ms)
Completed 200 OK in 86ms (Views: 52.3ms | ActiveRecord: 2.3ms)


Started GET "/cable" for 127.0.0.1 at 2017-04-24 23:04:24 +0700
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-24 23:04:24 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [tanghoangphong@gmail.com] Registered connection (Z2lkOi8vY2FibGUtY2hhdC9Vc2VyLzE)
Started GET "/cable" for 127.0.0.1 at 2017-04-24 23:05:52 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-24 23:05:52 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [tanghoangphong@gmail.com] Registered connection (Z2lkOi8vY2FibGUtY2hhdC9Vc2VyLzE)
Started GET "/cable" for 127.0.0.1 at 2017-04-24 23:10:47 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-24 23:10:47 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [tanghoangphong@gmail.com] Registered connection (Z2lkOi8vY2FibGUtY2hhdC9Vc2VyLzE)
Started GET "/chat_rooms/1" for 127.0.0.1 at 2017-04-24 23:16:14 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by ChatRoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatRoom Load (0.1ms)[0m  [1m[34mSELECT  "chat_rooms".* FROM "chat_rooms" WHERE "chat_rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (13.7ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_room_id" = 1[0m
  Rendering chat_rooms/show.html.erb within layouts/application
  Rendered collection of templates [0 times] (0.0ms)
  Rendered chat_rooms/show.html.erb within layouts/application (102.9ms)
Completed 200 OK in 799ms (Views: 680.4ms | ActiveRecord: 16.4ms)


Started GET "/cable" for 127.0.0.1 at 2017-04-24 23:16:17 +0700
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-24 23:16:17 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [tanghoangphong@gmail.com] Registered connection (Z2lkOi8vY2FibGUtY2hhdC9Vc2VyLzE)
Started GET "/" for 127.0.0.1 at 2017-04-24 23:18:19 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by ChatRoomsController#index as HTML
Completed 401 Unauthorized in 16ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-04-24 23:18:20 +0700
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (30.5ms)
Completed 200 OK in 364ms (Views: 346.1ms | ActiveRecord: 1.3ms)


Started GET "/cable" for 127.0.0.1 at 2017-04-24 23:18:26 +0700
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-24 23:18:26 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [tanghoangphong@gmail.com] Registered connection (Z2lkOi8vY2FibGUtY2hhdC9Vc2VyLzE)
Started GET "/" for 127.0.0.1 at 2017-04-24 23:20:21 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by ChatRoomsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering chat_rooms/index.html.erb within layouts/application
  [1m[36mChatRoom Load (0.2ms)[0m  [1m[34mSELECT "chat_rooms".* FROM "chat_rooms"[0m
  Rendered collection of chat_rooms/_chat_room.html.erb [1 times] (1.7ms)
  Rendered chat_rooms/index.html.erb within layouts/application (27.7ms)
Completed 200 OK in 379ms (Views: 328.1ms | ActiveRecord: 1.4ms)


Started GET "/" for 127.0.0.1 at 2017-04-24 23:20:33 +0700
Processing by ChatRoomsController#index as HTML
Completed 401 Unauthorized in 6ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-04-24 23:20:33 +0700
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.4ms)
  Rendered devise/sessions/new.html.erb within layouts/application (18.8ms)
Completed 200 OK in 49ms (Views: 46.7ms | ActiveRecord: 0.0ms)


Started GET "/chat_rooms/1" for 127.0.0.1 at 2017-04-24 23:20:38 +0700
Processing by ChatRoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatRoom Load (0.3ms)[0m  [1m[34mSELECT  "chat_rooms".* FROM "chat_rooms" WHERE "chat_rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_room_id" = 1[0m
  Rendering chat_rooms/show.html.erb within layouts/application
  Rendered collection of templates [0 times] (0.0ms)
  Rendered chat_rooms/show.html.erb within layouts/application (8.1ms)
Completed 200 OK in 75ms (Views: 33.0ms | ActiveRecord: 2.4ms)


Started GET "/cable" for 127.0.0.1 at 2017-04-24 23:20:38 +0700
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-24 23:20:39 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [tanghoangphong@gmail.com] Registered connection (Z2lkOi8vY2FibGUtY2hhdC9Vc2VyLzE)
Started GET "/cable" for 127.0.0.1 at 2017-04-24 23:24:26 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-24 23:24:26 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [tanghoangphong@gmail.com] Registered connection (Z2lkOi8vY2FibGUtY2hhdC9Vc2VyLzE)
[ActionCable] [tanghoangphong@gmail.com] ChatRoomsChannel is transmitting the subscription confirmation
[ActionCable] [tanghoangphong@gmail.com] ChatRoomsChannel is streaming from chat_rooms_1_channel
Started GET "/chat_rooms/1" for 127.0.0.1 at 2017-04-24 23:24:32 +0700
Processing by ChatRoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatRoom Load (0.1ms)[0m  [1m[34mSELECT  "chat_rooms".* FROM "chat_rooms" WHERE "chat_rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_room_id" = 1[0m
  Rendering chat_rooms/show.html.erb within layouts/application
  Rendered collection of templates [0 times] (0.0ms)
  Rendered chat_rooms/show.html.erb within layouts/application (22.6ms)
Completed 200 OK in 359ms (Views: 320.8ms | ActiveRecord: 1.6ms)


[ActionCable] [tanghoangphong@gmail.com] Finished "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-24 23:24:32 +0700
[ActionCable] [tanghoangphong@gmail.com] ChatRoomsChannel stopped streaming from chat_rooms_1_channel
Started GET "/cable" for 127.0.0.1 at 2017-04-24 23:24:33 +0700
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-24 23:24:33 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [tanghoangphong@gmail.com] Registered connection (Z2lkOi8vY2FibGUtY2hhdC9Vc2VyLzE)
[ActionCable] [tanghoangphong@gmail.com] ChatRoomsChannel is transmitting the subscription confirmation
[ActionCable] [tanghoangphong@gmail.com] ChatRoomsChannel is streaming from chat_rooms_1_channel
Started GET "/users/sign_up" for 127.0.0.1 at 2017-04-24 23:24:36 +0700
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.9ms)
  Rendered devise/registrations/new.html.erb within layouts/application (11.4ms)
Completed 200 OK in 68ms (Views: 59.6ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2017-04-24 23:24:49 +0700
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"yi60d779FIK+d6q64v9ogBUfxXgvzyNM8SpI08sCiXlOiM5ERhTKUOEFLSRG7T20LieCyyIf7sNCjhhbBJt5bg==", "user"=>{"email"=>"hihihi@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "hihihi@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "hihihi@gmail.com"], ["encrypted_password", "$2a$11$lFNVMtxR08K1cm8P7f5rdufG6H1oE2DhdWussxF08ajY69X8BQ622"], ["created_at", 2017-04-24 16:24:50 UTC], ["updated_at", 2017-04-24 16:24:50 UTC]]
  [1m[35m (113.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", 2017-04-24 16:24:50 UTC], ["last_sign_in_at", 2017-04-24 16:24:50 UTC], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", 2017-04-24 16:24:50 UTC], ["id", 2]]
  [1m[35m (126.6ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 537ms (ActiveRecord: 241.1ms)


Started GET "/" for 127.0.0.1 at 2017-04-24 23:24:50 +0700
Processing by ChatRoomsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering chat_rooms/index.html.erb within layouts/application
  [1m[36mChatRoom Load (0.2ms)[0m  [1m[34mSELECT "chat_rooms".* FROM "chat_rooms"[0m
  Rendered collection of chat_rooms/_chat_room.html.erb [1 times] (1.1ms)
  Rendered chat_rooms/index.html.erb within layouts/application (4.6ms)
Completed 200 OK in 35ms (Views: 30.9ms | ActiveRecord: 0.8ms)


Started GET "/chat_rooms/1" for 127.0.0.1 at 2017-04-24 23:24:53 +0700
Processing by ChatRoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatRoom Load (0.2ms)[0m  [1m[34mSELECT  "chat_rooms".* FROM "chat_rooms" WHERE "chat_rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_room_id" = 1[0m
  Rendering chat_rooms/show.html.erb within layouts/application
  Rendered collection of templates [0 times] (0.0ms)
  Rendered chat_rooms/show.html.erb within layouts/application (6.4ms)
Completed 200 OK in 46ms (Views: 38.6ms | ActiveRecord: 1.1ms)


Started GET "/cable" for 127.0.0.1 at 2017-04-24 23:24:53 +0700
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-24 23:24:53 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActionCable] [hihihi@gmail.com] Registered connection (Z2lkOi8vY2FibGUtY2hhdC9Vc2VyLzI)
[ActionCable] [hihihi@gmail.com] ChatRoomsChannel is transmitting the subscription confirmation
[ActionCable] [hihihi@gmail.com] ChatRoomsChannel is streaming from chat_rooms_1_channel
[ActionCable] [hihihi@gmail.com] ChatRoomsChannel#send_message({"message"=>"aaa\n", "chat_room_id"=>1})
[ActionCable] [hihihi@gmail.com]   [1m[35m (0.7ms)[0m  [1m[36mbegin transaction[0m
[ActionCable] [hihihi@gmail.com]   [1m[36mChatRoom Load (0.3ms)[0m  [1m[34mSELECT  "chat_rooms".* FROM "chat_rooms" WHERE "chat_rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [hihihi@gmail.com]   [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "messages" ("body", "user_id", "chat_room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body", "aaa\n"], ["user_id", 2], ["chat_room_id", 1], ["created_at", 2017-04-24 16:24:57 UTC], ["updated_at", 2017-04-24 16:24:57 UTC]]
[ActionCable] [hihihi@gmail.com]   [1m[35m (160.2ms)[0m  [1m[36mcommit transaction[0m
[ActionCable] [hihihi@gmail.com] [ActiveJob] Enqueued MessageBroadcastJob (Job ID: 6848fd44-a96f-4b74-a7d7-4c27bba02ba0) to Async(default) with arguments: #<GlobalID:0x00000003f64318 @uri=#<URI::GID gid://cable-chat/Message/1>>
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [MessageBroadcastJob] [6848fd44-a96f-4b74-a7d7-4c27bba02ba0] Performing MessageBroadcastJob from Async(default) with arguments: #<GlobalID:0x007f71d4c17968 @uri=#<URI::GID gid://cable-chat/Message/1>>
[ActiveJob] [MessageBroadcastJob] [6848fd44-a96f-4b74-a7d7-4c27bba02ba0]   [1m[36mChatRoom Load (0.2ms)[0m  [1m[34mSELECT  "chat_rooms".* FROM "chat_rooms" WHERE "chat_rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [MessageBroadcastJob] [6848fd44-a96f-4b74-a7d7-4c27bba02ba0] [ActionCable] Broadcasting to chat_rooms_1_channel: {:message=>"MESSAGE_HTML"}
[ActiveJob] [MessageBroadcastJob] [6848fd44-a96f-4b74-a7d7-4c27bba02ba0] Performed MessageBroadcastJob from Async(default) in 3.14ms
[ActionCable] [hihihi@gmail.com] ChatRoomsChannel transmitting {"message"=>"MESSAGE_HTML"} (via streamed from chat_rooms_1_channel)
[ActionCable] [tanghoangphong@gmail.com] ChatRoomsChannel transmitting {"message"=>"MESSAGE_HTML"} (via streamed from chat_rooms_1_channel)
[ActionCable] [tanghoangphong@gmail.com] ChatRoomsChannel#send_message({"message"=>"phong 2", "chat_room_id"=>1})
[ActionCable] [tanghoangphong@gmail.com]   [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
[ActionCable] [tanghoangphong@gmail.com]   [1m[36mChatRoom Load (0.3ms)[0m  [1m[34mSELECT  "chat_rooms".* FROM "chat_rooms" WHERE "chat_rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [tanghoangphong@gmail.com]   [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("body", "user_id", "chat_room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body", "phong 2"], ["user_id", 1], ["chat_room_id", 1], ["created_at", 2017-04-24 16:25:11 UTC], ["updated_at", 2017-04-24 16:25:11 UTC]]
[ActionCable] [tanghoangphong@gmail.com]   [1m[35m (159.7ms)[0m  [1m[36mcommit transaction[0m
[ActionCable] [tanghoangphong@gmail.com] [ActiveJob] Enqueued MessageBroadcastJob (Job ID: 8caa911f-7c6c-4e15-96e0-27bc08f30905) to Async(default) with arguments: #<GlobalID:0x007f71d50a8220 @uri=#<URI::GID gid://cable-chat/Message/2>>
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [MessageBroadcastJob] [8caa911f-7c6c-4e15-96e0-27bc08f30905] Performing MessageBroadcastJob from Async(default) with arguments: #<GlobalID:0x007f71d514d4f0 @uri=#<URI::GID gid://cable-chat/Message/2>>
[ActiveJob] [MessageBroadcastJob] [8caa911f-7c6c-4e15-96e0-27bc08f30905]   [1m[36mChatRoom Load (2.0ms)[0m  [1m[34mSELECT  "chat_rooms".* FROM "chat_rooms" WHERE "chat_rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [MessageBroadcastJob] [8caa911f-7c6c-4e15-96e0-27bc08f30905] [ActionCable] Broadcasting to chat_rooms_1_channel: {:message=>"MESSAGE_HTML"}
[ActiveJob] [MessageBroadcastJob] [8caa911f-7c6c-4e15-96e0-27bc08f30905] Performed MessageBroadcastJob from Async(default) in 4.78ms
[ActionCable] [hihihi@gmail.com] ChatRoomsChannel transmitting {"message"=>"MESSAGE_HTML"} (via streamed from chat_rooms_1_channel)
[ActionCable] [tanghoangphong@gmail.com] ChatRoomsChannel transmitting {"message"=>"MESSAGE_HTML"} (via streamed from chat_rooms_1_channel)
[ActionCable] [tanghoangphong@gmail.com] ChatRoomsChannel#send_message({"message"=>"Ã¡dsada", "chat_room_id"=>1})
[ActionCable] [tanghoangphong@gmail.com]   [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
[ActionCable] [tanghoangphong@gmail.com]   [1m[36mChatRoom Load (0.3ms)[0m  [1m[34mSELECT  "chat_rooms".* FROM "chat_rooms" WHERE "chat_rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [tanghoangphong@gmail.com]   [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "messages" ("body", "user_id", "chat_room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body", "Ã¡dsada"], ["user_id", 1], ["chat_room_id", 1], ["created_at", 2017-04-24 16:28:08 UTC], ["updated_at", 2017-04-24 16:28:08 UTC]]
[ActionCable] [tanghoangphong@gmail.com]   [1m[35m (116.0ms)[0m  [1m[36mcommit transaction[0m
[ActionCable] [tanghoangphong@gmail.com] [ActiveJob] Enqueued MessageBroadcastJob (Job ID: da0aa364-a90b-45e3-bf11-a8272bd3510b) to Async(default) with arguments: #<GlobalID:0x007f71d84bb210 @uri=#<URI::GID gid://cable-chat/Message/3>>
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [MessageBroadcastJob] [da0aa364-a90b-45e3-bf11-a8272bd3510b] Performing MessageBroadcastJob from Async(default) with arguments: #<GlobalID:0x007f71cc2fa518 @uri=#<URI::GID gid://cable-chat/Message/3>>
[ActiveJob] [MessageBroadcastJob] [da0aa364-a90b-45e3-bf11-a8272bd3510b]   [1m[36mChatRoom Load (0.2ms)[0m  [1m[34mSELECT  "chat_rooms".* FROM "chat_rooms" WHERE "chat_rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [MessageBroadcastJob] [da0aa364-a90b-45e3-bf11-a8272bd3510b] [ActionCable] Broadcasting to chat_rooms_1_channel: {:message=>"MESSAGE_HTML"}
[ActiveJob] [MessageBroadcastJob] [da0aa364-a90b-45e3-bf11-a8272bd3510b] Performed MessageBroadcastJob from Async(default) in 24.16ms
Started GET "/cable" for 127.0.0.1 at 2017-04-24 23:28:15 +0700
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-24 23:28:15 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActionCable] [hihihi@gmail.com] Registered connection (Z2lkOi8vY2FibGUtY2hhdC9Vc2VyLzI)
[ActionCable] [hihihi@gmail.com] ChatRoomsChannel is transmitting the subscription confirmation
[ActionCable] [hihihi@gmail.com] ChatRoomsChannel is streaming from chat_rooms_1_channel
Started GET "/cable" for 127.0.0.1 at 2017-04-24 23:28:15 +0700
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-24 23:28:15 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [tanghoangphong@gmail.com] Registered connection (Z2lkOi8vY2FibGUtY2hhdC9Vc2VyLzE)
[ActionCable] [tanghoangphong@gmail.com] ChatRoomsChannel is transmitting the subscription confirmation
[ActionCable] [tanghoangphong@gmail.com] ChatRoomsChannel is streaming from chat_rooms_1_channel
[ActionCable] [tanghoangphong@gmail.com] ChatRoomsChannel#send_message({"message"=>"fffff", "chat_room_id"=>1})
[ActionCable] [tanghoangphong@gmail.com]   [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."user_id" = ?[0m  [["user_id", 1]]
[ActionCable] [tanghoangphong@gmail.com]   [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
[ActionCable] [tanghoangphong@gmail.com]   [1m[36mChatRoom Load (0.2ms)[0m  [1m[34mSELECT  "chat_rooms".* FROM "chat_rooms" WHERE "chat_rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [tanghoangphong@gmail.com]   [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "messages" ("body", "user_id", "chat_room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body", "fffff"], ["user_id", 1], ["chat_room_id", 1], ["created_at", 2017-04-24 16:28:49 UTC], ["updated_at", 2017-04-24 16:28:49 UTC]]
[ActionCable] [hihihi@gmail.com] Finished "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-24 23:28:49 +0700
[ActionCable] [tanghoangphong@gmail.com] Finished "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-24 23:28:49 +0700
[ActionCable] [tanghoangphong@gmail.com]   [1m[35m (136.8ms)[0m  [1m[36mcommit transaction[0m
[ActionCable] [hihihi@gmail.com] ChatRoomsChannel stopped streaming from chat_rooms_1_channel
[ActionCable] [tanghoangphong@gmail.com] ChatRoomsChannel stopped streaming from chat_rooms_1_channel
Started GET "/cable" for 127.0.0.1 at 2017-04-24 23:28:50 +0700
[ActionCable] [tanghoangphong@gmail.com] [ActiveJob] Enqueued MessageBroadcastJob (Job ID: afdcca49-10f5-4e8d-8216-6f99377f7ff1) to Async(default) with arguments: #<GlobalID:0x007f71d851e680 @uri=#<URI::GID gid://cable-chat/Message/4>>
  [1m[36mMessage Load (0.7ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-24 23:28:50 +0700
[ActiveJob] [MessageBroadcastJob] [afdcca49-10f5-4e8d-8216-6f99377f7ff1] Performing MessageBroadcastJob from Async(default) with arguments: #<GlobalID:0x007f71cc07ec08 @uri=#<URI::GID gid://cable-chat/Message/4>>
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
[ActiveJob] [MessageBroadcastJob] [afdcca49-10f5-4e8d-8216-6f99377f7ff1]   [1m[36mChatRoom Load (0.3ms)[0m  [1m[34mSELECT  "chat_rooms".* FROM "chat_rooms" WHERE "chat_rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [MessageBroadcastJob] [afdcca49-10f5-4e8d-8216-6f99377f7ff1] [ActionCable] Broadcasting to chat_rooms_1_channel: {:message=>"MESSAGE_HTML"}
[ActionCable] [hihihi@gmail.com] Registered connection (Z2lkOi8vY2FibGUtY2hhdC9Vc2VyLzI)
[ActiveJob] [MessageBroadcastJob] [afdcca49-10f5-4e8d-8216-6f99377f7ff1] Performed MessageBroadcastJob from Async(default) in 8.09ms
[ActionCable] [hihihi@gmail.com] ChatRoomsChannel is transmitting the subscription confirmation
[ActionCable] [hihihi@gmail.com] ChatRoomsChannel is streaming from chat_rooms_1_channel
Started GET "/cable" for 127.0.0.1 at 2017-04-24 23:28:50 +0700
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-24 23:28:50 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [tanghoangphong@gmail.com] Registered connection (Z2lkOi8vY2FibGUtY2hhdC9Vc2VyLzE)
[ActionCable] [tanghoangphong@gmail.com] ChatRoomsChannel is transmitting the subscription confirmation
[ActionCable] [tanghoangphong@gmail.com] ChatRoomsChannel is streaming from chat_rooms_1_channel
[ActionCable] [hihihi@gmail.com] ChatRoomsChannel#send_message({"message"=>"sdsda\n", "chat_room_id"=>1})
[ActionCable] [hihihi@gmail.com]   [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
[ActionCable] [hihihi@gmail.com]   [1m[36mChatRoom Load (0.2ms)[0m  [1m[34mSELECT  "chat_rooms".* FROM "chat_rooms" WHERE "chat_rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [tanghoangphong@gmail.com] Ignoring message processed after the WebSocket was closed: "{\"command\":\"message\",\"identifier\":\"{\\\"channel\\\":\\\"ChatRoomsChannel\\\",\\\"chat_room_id\\\":1}\",\"data\":\"{\\\"message\\\":\\\"Ã¢aaa\\\",\\\"chat_room_id\\\":1,\\\"action\\\":\\\"send_message\\\"}\"}")
[ActionCable] [tanghoangphong@gmail.com] Finished "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-24 23:29:27 +0700
[ActionCable] [hihihi@gmail.com]   [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "messages" ("body", "user_id", "chat_room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body", "sdsda\n"], ["user_id", 2], ["chat_room_id", 1], ["created_at", 2017-04-24 16:29:27 UTC], ["updated_at", 2017-04-24 16:29:27 UTC]]
Started GET "/cable" for 127.0.0.1 at 2017-04-24 23:29:27 +0700
[ActionCable] [hihihi@gmail.com] Finished "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-24 23:29:27 +0700
Started GET "/chat_rooms/1" for 127.0.0.1 at 2017-04-24 23:29:28 +0700
[ActionCable] [tanghoangphong@gmail.com] ChatRoomsChannel stopped streaming from chat_rooms_1_channel
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-24 23:29:28 +0700
[ActionCable] [hihihi@gmail.com]   [1m[35m (123.8ms)[0m  [1m[36mcommit transaction[0m
[ActionCable] [hihihi@gmail.com] ChatRoomsChannel stopped streaming from chat_rooms_1_channel
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
[ActionCable] [hihihi@gmail.com] [ActiveJob] Enqueued MessageBroadcastJob (Job ID: 29755418-1ef9-4e9b-b2ea-ad8f373df2eb) to Async(default) with arguments: #<GlobalID:0x007f71d5c320f0 @uri=#<URI::GID gid://cable-chat/Message/5>>
Processing by ChatRoomsController#show as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  Parameters: {"id"=>"1"}
[ActionCable] [hihihi@gmail.com] Registered connection (Z2lkOi8vY2FibGUtY2hhdC9Vc2VyLzI)
Started GET "/cable" for 127.0.0.1 at 2017-04-24 23:29:28 +0700
[ActiveJob] [MessageBroadcastJob] [29755418-1ef9-4e9b-b2ea-ad8f373df2eb] Performing MessageBroadcastJob from Async(default) with arguments: #<GlobalID:0x007f71d8450140 @uri=#<URI::GID gid://cable-chat/Message/5>>
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-24 23:29:28 +0700
[ActiveJob] [MessageBroadcastJob] [29755418-1ef9-4e9b-b2ea-ad8f373df2eb]   [1m[36mChatRoom Load (0.2ms)[0m  [1m[34mSELECT  "chat_rooms".* FROM "chat_rooms" WHERE "chat_rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
[ActiveJob] [MessageBroadcastJob] [29755418-1ef9-4e9b-b2ea-ad8f373df2eb] [ActionCable] Broadcasting to chat_rooms_1_channel: {:message=>"MESSAGE_HTML"}
[ActiveJob] [MessageBroadcastJob] [29755418-1ef9-4e9b-b2ea-ad8f373df2eb] Performed MessageBroadcastJob from Async(default) in 4.18ms
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [hihihi@gmail.com] ChatRoomsChannel is transmitting the subscription confirmation
  [1m[36mChatRoom Load (0.2ms)[0m  [1m[34mSELECT  "chat_rooms".* FROM "chat_rooms" WHERE "chat_rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [tanghoangphong@gmail.com] Registered connection (Z2lkOi8vY2FibGUtY2hhdC9Vc2VyLzE)
[ActionCable] [hihihi@gmail.com] ChatRoomsChannel is streaming from chat_rooms_1_channel
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_room_id" = 1[0m
  Rendering chat_rooms/show.html.erb within layouts/application
[ActionCable] [tanghoangphong@gmail.com] ChatRoomsChannel is transmitting the subscription confirmation
[ActionCable] [tanghoangphong@gmail.com] ChatRoomsChannel is streaming from chat_rooms_1_channel
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered collection of messages/_message.html.erb [5 times] (9.9ms)
  Rendered chat_rooms/show.html.erb within layouts/application (31.2ms)
Completed 200 OK in 84ms (Views: 57.1ms | ActiveRecord: 1.2ms)


[ActionCable] [hihihi@gmail.com] Finished "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-24 23:29:28 +0700
[ActionCable] [hihihi@gmail.com] ChatRoomsChannel stopped streaming from chat_rooms_1_channel
Started GET "/cable" for 127.0.0.1 at 2017-04-24 23:29:28 +0700
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-24 23:29:28 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActionCable] [hihihi@gmail.com] Registered connection (Z2lkOi8vY2FibGUtY2hhdC9Vc2VyLzI)
[ActionCable] [hihihi@gmail.com] ChatRoomsChannel is transmitting the subscription confirmation
[ActionCable] [hihihi@gmail.com] ChatRoomsChannel is streaming from chat_rooms_1_channel
Started GET "/chat_rooms/1" for 127.0.0.1 at 2017-04-24 23:29:39 +0700
Processing by ChatRoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatRoom Load (0.3ms)[0m  [1m[34mSELECT  "chat_rooms".* FROM "chat_rooms" WHERE "chat_rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_room_id" = 1[0m
  Rendering chat_rooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered collection of messages/_message.html.erb [5 times] (8.4ms)
  Rendered chat_rooms/show.html.erb within layouts/application (14.4ms)
Completed 200 OK in 90ms (Views: 40.8ms | ActiveRecord: 4.0ms)


Started GET "/cable" for 127.0.0.1 at 2017-04-24 23:29:39 +0700
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-24 23:29:39 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [tanghoangphong@gmail.com] Registered connection (Z2lkOi8vY2FibGUtY2hhdC9Vc2VyLzE)
[ActionCable] [tanghoangphong@gmail.com] ChatRoomsChannel is transmitting the subscription confirmation
[ActionCable] [tanghoangphong@gmail.com] ChatRoomsChannel is streaming from chat_rooms_1_channel
[ActionCable] [tanghoangphong@gmail.com] ChatRoomsChannel#send_message({"message"=>"aaa", "chat_room_id"=>1})
[ActionCable] [tanghoangphong@gmail.com]   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActionCable] [tanghoangphong@gmail.com]   [1m[36mChatRoom Load (0.4ms)[0m  [1m[34mSELECT  "chat_rooms".* FROM "chat_rooms" WHERE "chat_rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [tanghoangphong@gmail.com]   [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "messages" ("body", "user_id", "chat_room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body", "aaa"], ["user_id", 1], ["chat_room_id", 1], ["created_at", 2017-04-24 16:29:45 UTC], ["updated_at", 2017-04-24 16:29:45 UTC]]
[ActionCable] [tanghoangphong@gmail.com]   [1m[35m (144.4ms)[0m  [1m[36mcommit transaction[0m
[ActionCable] [tanghoangphong@gmail.com] [ActiveJob] Enqueued MessageBroadcastJob (Job ID: b02bd927-58dc-4855-99ad-6b59c3717218) to Async(default) with arguments: #<GlobalID:0x007f71d5c59330 @uri=#<URI::GID gid://cable-chat/Message/6>>
  [1m[36mMessage Load (1.2ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
[ActiveJob] [MessageBroadcastJob] [b02bd927-58dc-4855-99ad-6b59c3717218] Performing MessageBroadcastJob from Async(default) with arguments: #<GlobalID:0x007f71a40be678 @uri=#<URI::GID gid://cable-chat/Message/6>>
[ActiveJob] [MessageBroadcastJob] [b02bd927-58dc-4855-99ad-6b59c3717218]   [1m[36mChatRoom Load (0.3ms)[0m  [1m[34mSELECT  "chat_rooms".* FROM "chat_rooms" WHERE "chat_rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [MessageBroadcastJob] [b02bd927-58dc-4855-99ad-6b59c3717218] [ActionCable] Broadcasting to chat_rooms_1_channel: {:message=>"MESSAGE_HTML"}
[ActiveJob] [MessageBroadcastJob] [b02bd927-58dc-4855-99ad-6b59c3717218] Performed MessageBroadcastJob from Async(default) in 2.75ms
[ActionCable] [tanghoangphong@gmail.com] ChatRoomsChannel transmitting {"message"=>"MESSAGE_HTML"} (via streamed from chat_rooms_1_channel)
Started GET "/cable" for 127.0.0.1 at 2017-04-24 23:29:46 +0700
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-24 23:29:46 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActionCable] [hihihi@gmail.com] Registered connection (Z2lkOi8vY2FibGUtY2hhdC9Vc2VyLzI)
[ActionCable] [hihihi@gmail.com] ChatRoomsChannel is transmitting the subscription confirmation
[ActionCable] [hihihi@gmail.com] ChatRoomsChannel is streaming from chat_rooms_1_channel
[ActionCable] [hihihi@gmail.com] ChatRoomsChannel#send_message({"message"=>"phong cute", "chat_room_id"=>1})
[ActionCable] [hihihi@gmail.com]   [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
[ActionCable] [hihihi@gmail.com]   [1m[36mChatRoom Load (0.2ms)[0m  [1m[34mSELECT  "chat_rooms".* FROM "chat_rooms" WHERE "chat_rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [hihihi@gmail.com]   [1m[35mSQL (2.6ms)[0m  [1m[32mINSERT INTO "messages" ("body", "user_id", "chat_room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body", "phong cute"], ["user_id", 2], ["chat_room_id", 1], ["created_at", 2017-04-24 16:29:58 UTC], ["updated_at", 2017-04-24 16:29:58 UTC]]
[ActionCable] [hihihi@gmail.com]   [1m[35m (158.3ms)[0m  [1m[36mcommit transaction[0m
[ActionCable] [hihihi@gmail.com] [ActiveJob] Enqueued MessageBroadcastJob (Job ID: b11446a9-45cc-4c16-a350-7735d4985009) to Async(default) with arguments: #<GlobalID:0x007f71d5b75e78 @uri=#<URI::GID gid://cable-chat/Message/7>>
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
[ActiveJob] [MessageBroadcastJob] [b11446a9-45cc-4c16-a350-7735d4985009] Performing MessageBroadcastJob from Async(default) with arguments: #<GlobalID:0x007f71800e7498 @uri=#<URI::GID gid://cable-chat/Message/7>>
[ActiveJob] [MessageBroadcastJob] [b11446a9-45cc-4c16-a350-7735d4985009]   [1m[36mChatRoom Load (0.2ms)[0m  [1m[34mSELECT  "chat_rooms".* FROM "chat_rooms" WHERE "chat_rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [MessageBroadcastJob] [b11446a9-45cc-4c16-a350-7735d4985009] [ActionCable] Broadcasting to chat_rooms_1_channel: {:message=>"MESSAGE_HTML"}
[ActiveJob] [MessageBroadcastJob] [b11446a9-45cc-4c16-a350-7735d4985009] Performed MessageBroadcastJob from Async(default) in 2.59ms
[ActionCable] [hihihi@gmail.com] ChatRoomsChannel transmitting {"message"=>"MESSAGE_HTML"} (via streamed from chat_rooms_1_channel)
[ActionCable] [tanghoangphong@gmail.com] ChatRoomsChannel transmitting {"message"=>"MESSAGE_HTML"} (via streamed from chat_rooms_1_channel)
Started GET "/chat_rooms/1" for 127.0.0.1 at 2017-04-24 23:30:04 +0700
Processing by ChatRoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatRoom Load (0.4ms)[0m  [1m[34mSELECT  "chat_rooms".* FROM "chat_rooms" WHERE "chat_rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_room_id" = 1[0m
  Rendering chat_rooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered collection of messages/_message.html.erb [7 times] (19.3ms)
  Rendered chat_rooms/show.html.erb within layouts/application (25.3ms)
Completed 200 OK in 76ms (Views: 61.8ms | ActiveRecord: 2.9ms)


[ActionCable] [tanghoangphong@gmail.com] Finished "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-24 23:30:04 +0700
[ActionCable] [tanghoangphong@gmail.com] ChatRoomsChannel stopped streaming from chat_rooms_1_channel
Started GET "/cable" for 127.0.0.1 at 2017-04-24 23:30:04 +0700
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-24 23:30:04 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [tanghoangphong@gmail.com] Registered connection (Z2lkOi8vY2FibGUtY2hhdC9Vc2VyLzE)
[ActionCable] [tanghoangphong@gmail.com] ChatRoomsChannel is transmitting the subscription confirmation
[ActionCable] [tanghoangphong@gmail.com] ChatRoomsChannel is streaming from chat_rooms_1_channel
[ActionCable] [tanghoangphong@gmail.com] ChatRoomsChannel#send_message({"message"=>"kk;lk;", "chat_room_id"=>1})
[ActionCable] [tanghoangphong@gmail.com]   [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
[ActionCable] [tanghoangphong@gmail.com]   [1m[36mChatRoom Load (0.7ms)[0m  [1m[34mSELECT  "chat_rooms".* FROM "chat_rooms" WHERE "chat_rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [tanghoangphong@gmail.com]   [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "messages" ("body", "user_id", "chat_room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body", "kk;lk;"], ["user_id", 1], ["chat_room_id", 1], ["created_at", 2017-04-24 16:34:19 UTC], ["updated_at", 2017-04-24 16:34:19 UTC]]
[ActionCable] [tanghoangphong@gmail.com]   [1m[35m (191.9ms)[0m  [1m[36mcommit transaction[0m
[ActionCable] [tanghoangphong@gmail.com] [ActiveJob] Enqueued MessageBroadcastJob (Job ID: c0f356b9-189b-4efc-923a-417d105afdda) to Async(default) with arguments: #<GlobalID:0x007f7178053200 @uri=#<URI::GID gid://cable-chat/Message/8>>
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
[ActiveJob] [MessageBroadcastJob] [c0f356b9-189b-4efc-923a-417d105afdda] Performing MessageBroadcastJob from Async(default) with arguments: #<GlobalID:0x007f7180049798 @uri=#<URI::GID gid://cable-chat/Message/8>>
[ActiveJob] [MessageBroadcastJob] [c0f356b9-189b-4efc-923a-417d105afdda]   [1m[36mChatRoom Load (0.2ms)[0m  [1m[34mSELECT  "chat_rooms".* FROM "chat_rooms" WHERE "chat_rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [MessageBroadcastJob] [c0f356b9-189b-4efc-923a-417d105afdda] [ActionCable] Broadcasting to chat_rooms_1_channel: {:message=>"MESSAGE_HTML"}
[ActiveJob] [MessageBroadcastJob] [c0f356b9-189b-4efc-923a-417d105afdda] Performed MessageBroadcastJob from Async(default) in 2.5ms
[ActionCable] [hihihi@gmail.com] ChatRoomsChannel transmitting {"message"=>"MESSAGE_HTML"} (via streamed from chat_rooms_1_channel)
[ActionCable] [tanghoangphong@gmail.com] ChatRoomsChannel transmitting {"message"=>"MESSAGE_HTML"} (via streamed from chat_rooms_1_channel)
[ActionCable] [tanghoangphong@gmail.com] ChatRoomsChannel#send_message({"message"=>"ass", "chat_room_id"=>1})
[ActionCable] [tanghoangphong@gmail.com]   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActionCable] [tanghoangphong@gmail.com]   [1m[36mChatRoom Load (0.5ms)[0m  [1m[34mSELECT  "chat_rooms".* FROM "chat_rooms" WHERE "chat_rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [tanghoangphong@gmail.com]   [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "messages" ("body", "user_id", "chat_room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body", "ass"], ["user_id", 1], ["chat_room_id", 1], ["created_at", 2017-04-24 16:35:53 UTC], ["updated_at", 2017-04-24 16:35:53 UTC]]
[ActionCable] [tanghoangphong@gmail.com]   [1m[35m (111.5ms)[0m  [1m[36mcommit transaction[0m
[ActionCable] [tanghoangphong@gmail.com] [ActiveJob] Enqueued MessageBroadcastJob (Job ID: a32c2301-572d-49ae-9e07-c23430921823) to Async(default) with arguments: #<GlobalID:0x007f717c02e9b0 @uri=#<URI::GID gid://cable-chat/Message/9>>
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
[ActiveJob] [MessageBroadcastJob] [a32c2301-572d-49ae-9e07-c23430921823] Performing MessageBroadcastJob from Async(default) with arguments: #<GlobalID:0x007f71d5ad4b90 @uri=#<URI::GID gid://cable-chat/Message/9>>
[ActiveJob] [MessageBroadcastJob] [a32c2301-572d-49ae-9e07-c23430921823]   [1m[36mChatRoom Load (0.2ms)[0m  [1m[34mSELECT  "chat_rooms".* FROM "chat_rooms" WHERE "chat_rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [MessageBroadcastJob] [a32c2301-572d-49ae-9e07-c23430921823] [ActionCable] Broadcasting to chat_rooms_1_channel: {:message=>"MESSAGE_HTML"}
[ActiveJob] [MessageBroadcastJob] [a32c2301-572d-49ae-9e07-c23430921823] Performed MessageBroadcastJob from Async(default) in 2.51ms
[ActionCable] [tanghoangphong@gmail.com] ChatRoomsChannel transmitting {"message"=>"MESSAGE_HTML"} (via streamed from chat_rooms_1_channel)
[ActionCable] [hihihi@gmail.com] ChatRoomsChannel transmitting {"message"=>"MESSAGE_HTML"} (via streamed from chat_rooms_1_channel)
Started GET "/chat_rooms/1" for 127.0.0.1 at 2017-04-24 23:35:59 +0700
Processing by ChatRoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatRoom Load (0.3ms)[0m  [1m[34mSELECT  "chat_rooms".* FROM "chat_rooms" WHERE "chat_rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_room_id" = 1[0m
  Rendering chat_rooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered collection of messages/_message.html.erb [9 times] (15.1ms)
  Rendered chat_rooms/show.html.erb within layouts/application (19.0ms)
Completed 200 OK in 1183ms (Views: 1173.4ms | ActiveRecord: 1.9ms)


[ActionCable] [hihihi@gmail.com] Finished "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-24 23:36:00 +0700
[ActionCable] [hihihi@gmail.com] ChatRoomsChannel stopped streaming from chat_rooms_1_channel
Started GET "/cable" for 127.0.0.1 at 2017-04-24 23:36:00 +0700
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-24 23:36:00 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActionCable] [hihihi@gmail.com] Registered connection (Z2lkOi8vY2FibGUtY2hhdC9Vc2VyLzI)
[ActionCable] [hihihi@gmail.com] ChatRoomsChannel is transmitting the subscription confirmation
[ActionCable] [hihihi@gmail.com] ChatRoomsChannel is streaming from chat_rooms_1_channel
Started GET "/chat_rooms/1" for 127.0.0.1 at 2017-04-24 23:36:03 +0700
Processing by ChatRoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatRoom Load (0.4ms)[0m  [1m[34mSELECT  "chat_rooms".* FROM "chat_rooms" WHERE "chat_rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.7ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_room_id" = 1[0m
  Rendering chat_rooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered collection of messages/_message.html.erb [9 times] (19.5ms)
  Rendered chat_rooms/show.html.erb within layouts/application (23.8ms)
Completed 200 OK in 75ms (Views: 62.7ms | ActiveRecord: 2.4ms)


[ActionCable] [tanghoangphong@gmail.com] Finished "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-24 23:36:03 +0700
[ActionCable] [tanghoangphong@gmail.com] ChatRoomsChannel stopped streaming from chat_rooms_1_channel
Started GET "/cable" for 127.0.0.1 at 2017-04-24 23:36:03 +0700
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-24 23:36:03 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [tanghoangphong@gmail.com] Registered connection (Z2lkOi8vY2FibGUtY2hhdC9Vc2VyLzE)
[ActionCable] [tanghoangphong@gmail.com] ChatRoomsChannel is transmitting the subscription confirmation
[ActionCable] [tanghoangphong@gmail.com] ChatRoomsChannel is streaming from chat_rooms_1_channel
[ActionCable] [tanghoangphong@gmail.com] ChatRoomsChannel#send_message({"message"=>"Ã¢Ã¢a", "chat_room_id"=>1})
[ActionCable] [tanghoangphong@gmail.com]   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActionCable] [tanghoangphong@gmail.com]   [1m[36mChatRoom Load (0.5ms)[0m  [1m[34mSELECT  "chat_rooms".* FROM "chat_rooms" WHERE "chat_rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [tanghoangphong@gmail.com]   [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "messages" ("body", "user_id", "chat_room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body", "Ã¢Ã¢a"], ["user_id", 1], ["chat_room_id", 1], ["created_at", 2017-04-24 16:36:09 UTC], ["updated_at", 2017-04-24 16:36:09 UTC]]
[ActionCable] [tanghoangphong@gmail.com]   [1m[35m (139.9ms)[0m  [1m[36mcommit transaction[0m
[ActionCable] [tanghoangphong@gmail.com] [ActiveJob] Enqueued MessageBroadcastJob (Job ID: 981ad8cc-ce7e-4f4e-aa6f-4ae4f5a3dcd6) to Async(default) with arguments: #<GlobalID:0x007f717c09e5d0 @uri=#<URI::GID gid://cable-chat/Message/10>>
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
[ActiveJob] [MessageBroadcastJob] [981ad8cc-ce7e-4f4e-aa6f-4ae4f5a3dcd6] Performing MessageBroadcastJob from Async(default) with arguments: #<GlobalID:0x007f71801c2638 @uri=#<URI::GID gid://cable-chat/Message/10>>
[ActiveJob] [MessageBroadcastJob] [981ad8cc-ce7e-4f4e-aa6f-4ae4f5a3dcd6]   [1m[36mChatRoom Load (0.1ms)[0m  [1m[34mSELECT  "chat_rooms".* FROM "chat_rooms" WHERE "chat_rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [MessageBroadcastJob] [981ad8cc-ce7e-4f4e-aa6f-4ae4f5a3dcd6] [ActionCable] Broadcasting to chat_rooms_1_channel: {:message=>"MESSAGE_HTML"}
[ActiveJob] [MessageBroadcastJob] [981ad8cc-ce7e-4f4e-aa6f-4ae4f5a3dcd6] Performed MessageBroadcastJob from Async(default) in 2.16ms
[ActionCable] [tanghoangphong@gmail.com] ChatRoomsChannel transmitting {"message"=>"MESSAGE_HTML"} (via streamed from chat_rooms_1_channel)
[ActionCable] [hihihi@gmail.com] ChatRoomsChannel transmitting {"message"=>"MESSAGE_HTML"} (via streamed from chat_rooms_1_channel)
Started GET "/chat_rooms/1" for 127.0.0.1 at 2017-04-24 23:38:33 +0700
Processing by ChatRoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatRoom Load (0.2ms)[0m  [1m[34mSELECT  "chat_rooms".* FROM "chat_rooms" WHERE "chat_rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_room_id" = 1[0m
  Rendering chat_rooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered collection of messages/_message.html.erb [10 times] (22.9ms)
  Rendered chat_rooms/show.html.erb within layouts/application (29.0ms)
Completed 200 OK in 107ms (Views: 60.8ms | ActiveRecord: 3.2ms)


Started GET "/cable" for 127.0.0.1 at 2017-04-24 23:38:34 +0700
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-24 23:38:34 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [tanghoangphong@gmail.com] Registered connection (Z2lkOi8vY2FibGUtY2hhdC9Vc2VyLzE)
[ActionCable] [tanghoangphong@gmail.com] ChatRoomsChannel is transmitting the subscription confirmation
[ActionCable] [tanghoangphong@gmail.com] ChatRoomsChannel is streaming from chat_rooms_1_channel
Started GET "/cable" for 127.0.0.1 at 2017-04-24 23:38:43 +0700
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-24 23:38:43 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActionCable] [hihihi@gmail.com] Registered connection (Z2lkOi8vY2FibGUtY2hhdC9Vc2VyLzI)
[ActionCable] [hihihi@gmail.com] ChatRoomsChannel is transmitting the subscription confirmation
[ActionCable] [hihihi@gmail.com] ChatRoomsChannel is streaming from chat_rooms_1_channel
Started GET "/chat_rooms/1" for 127.0.0.1 at 2017-04-24 23:38:49 +0700
Processing by ChatRoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatRoom Load (0.3ms)[0m  [1m[34mSELECT  "chat_rooms".* FROM "chat_rooms" WHERE "chat_rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_room_id" = 1[0m
  Rendering chat_rooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered collection of messages/_message.html.erb [10 times] (21.9ms)
  Rendered chat_rooms/show.html.erb within layouts/application (27.9ms)
Completed 200 OK in 80ms (Views: 66.7ms | ActiveRecord: 2.6ms)


[ActionCable] [tanghoangphong@gmail.com] Finished "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-24 23:38:49 +0700
[ActionCable] [tanghoangphong@gmail.com] ChatRoomsChannel stopped streaming from chat_rooms_1_channel
Started GET "/cable" for 127.0.0.1 at 2017-04-24 23:38:50 +0700
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-24 23:38:50 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [tanghoangphong@gmail.com] Registered connection (Z2lkOi8vY2FibGUtY2hhdC9Vc2VyLzE)
[ActionCable] [tanghoangphong@gmail.com] ChatRoomsChannel is transmitting the subscription confirmation
[ActionCable] [tanghoangphong@gmail.com] ChatRoomsChannel is streaming from chat_rooms_1_channel
[ActionCable] [tanghoangphong@gmail.com] ChatRoomsChannel#send_message({"message"=>"Ã¢Ã¢a", "chat_room_id"=>1})
[ActionCable] [tanghoangphong@gmail.com]   [1m[35m (0.6ms)[0m  [1m[36mbegin transaction[0m
[ActionCable] [tanghoangphong@gmail.com]   [1m[36mChatRoom Load (0.3ms)[0m  [1m[34mSELECT  "chat_rooms".* FROM "chat_rooms" WHERE "chat_rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [tanghoangphong@gmail.com]   [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "messages" ("body", "user_id", "chat_room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body", "Ã¢Ã¢a"], ["user_id", 1], ["chat_room_id", 1], ["created_at", 2017-04-24 16:39:04 UTC], ["updated_at", 2017-04-24 16:39:04 UTC]]
[ActionCable] [tanghoangphong@gmail.com]   [1m[35m (144.9ms)[0m  [1m[36mcommit transaction[0m
[ActionCable] [tanghoangphong@gmail.com] [ActiveJob] Enqueued MessageBroadcastJob (Job ID: 24e627f7-3fe1-49ad-aeb7-37b06457361c) to Async(default) with arguments: #<GlobalID:0x007f719c2a6718 @uri=#<URI::GID gid://cable-chat/Message/11>>
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
[ActiveJob] [MessageBroadcastJob] [24e627f7-3fe1-49ad-aeb7-37b06457361c] Performing MessageBroadcastJob from Async(default) with arguments: #<GlobalID:0x007f71801cd6c8 @uri=#<URI::GID gid://cable-chat/Message/11>>
[ActiveJob] [MessageBroadcastJob] [24e627f7-3fe1-49ad-aeb7-37b06457361c]   [1m[36mChatRoom Load (0.3ms)[0m  [1m[34mSELECT  "chat_rooms".* FROM "chat_rooms" WHERE "chat_rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [MessageBroadcastJob] [24e627f7-3fe1-49ad-aeb7-37b06457361c] Performed MessageBroadcastJob from Async(default) in 3.1ms
[ActionCable] [tanghoangphong@gmail.com] ChatRoomsChannel#send_message({"message"=>"45454", "chat_room_id"=>1})
[ActionCable] [tanghoangphong@gmail.com]   [1m[35m (0.7ms)[0m  [1m[36mbegin transaction[0m
[ActionCable] [tanghoangphong@gmail.com]   [1m[36mChatRoom Load (0.3ms)[0m  [1m[34mSELECT  "chat_rooms".* FROM "chat_rooms" WHERE "chat_rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [tanghoangphong@gmail.com]   [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "messages" ("body", "user_id", "chat_room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body", "45454"], ["user_id", 1], ["chat_room_id", 1], ["created_at", 2017-04-24 16:39:16 UTC], ["updated_at", 2017-04-24 16:39:16 UTC]]
[ActionCable] [tanghoangphong@gmail.com]   [1m[35m (149.3ms)[0m  [1m[36mcommit transaction[0m
[ActionCable] [tanghoangphong@gmail.com] [ActiveJob] Enqueued MessageBroadcastJob (Job ID: c70b54ef-3edf-4241-ad5b-189374f7e479) to Async(default) with arguments: #<GlobalID:0x007f719c2d0a68 @uri=#<URI::GID gid://cable-chat/Message/12>>
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
[ActiveJob] [MessageBroadcastJob] [c70b54ef-3edf-4241-ad5b-189374f7e479] Performing MessageBroadcastJob from Async(default) with arguments: #<GlobalID:0x0000000276faa0 @uri=#<URI::GID gid://cable-chat/Message/12>>
[ActiveJob] [MessageBroadcastJob] [c70b54ef-3edf-4241-ad5b-189374f7e479]   [1m[36mChatRoom Load (0.4ms)[0m  [1m[34mSELECT  "chat_rooms".* FROM "chat_rooms" WHERE "chat_rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [MessageBroadcastJob] [c70b54ef-3edf-4241-ad5b-189374f7e479] Performed MessageBroadcastJob from Async(default) in 2.78ms
Started GET "/chat_rooms/1" for 127.0.0.1 at 2017-04-24 23:39:24 +0700
Processing by ChatRoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatRoom Load (0.4ms)[0m  [1m[34mSELECT  "chat_rooms".* FROM "chat_rooms" WHERE "chat_rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_room_id" = 1[0m
  Rendering chat_rooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered collection of messages/_message.html.erb [12 times] (27.1ms)
  Rendered chat_rooms/show.html.erb within layouts/application (33.1ms)
Completed 200 OK in 100ms (Views: 87.6ms | ActiveRecord: 2.1ms)


[ActionCable] [hihihi@gmail.com] Finished "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-24 23:39:24 +0700
[ActionCable] [hihihi@gmail.com] ChatRoomsChannel stopped streaming from chat_rooms_1_channel
Started GET "/cable" for 127.0.0.1 at 2017-04-24 23:39:24 +0700
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-24 23:39:24 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActionCable] [hihihi@gmail.com] Registered connection (Z2lkOi8vY2FibGUtY2hhdC9Vc2VyLzI)
[ActionCable] [hihihi@gmail.com] ChatRoomsChannel is transmitting the subscription confirmation
[ActionCable] [hihihi@gmail.com] ChatRoomsChannel is streaming from chat_rooms_1_channel
Started GET "/chat_rooms/1" for 127.0.0.1 at 2017-04-24 23:40:07 +0700
Processing by ChatRoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatRoom Load (0.2ms)[0m  [1m[34mSELECT  "chat_rooms".* FROM "chat_rooms" WHERE "chat_rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_room_id" = 1[0m
  Rendering chat_rooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered collection of messages/_message.html.erb [12 times] (20.4ms)
  Rendered chat_rooms/show.html.erb within layouts/application (25.2ms)
Completed 200 OK in 114ms (Views: 61.5ms | ActiveRecord: 3.8ms)


Started GET "/cable" for 127.0.0.1 at 2017-04-24 23:40:08 +0700
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-24 23:40:08 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActionCable] [hihihi@gmail.com] Registered connection (Z2lkOi8vY2FibGUtY2hhdC9Vc2VyLzI)
[ActionCable] [hihihi@gmail.com] ChatRoomsChannel is transmitting the subscription confirmation
[ActionCable] [hihihi@gmail.com] ChatRoomsChannel is streaming from chat_rooms_1_channel
[ActionCable] [hihihi@gmail.com] ChatRoomsChannel#send_message({"message"=>"aaa", "chat_room_id"=>1})
[ActionCable] [hihihi@gmail.com]   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActionCable] [hihihi@gmail.com]   [1m[36mChatRoom Load (0.3ms)[0m  [1m[34mSELECT  "chat_rooms".* FROM "chat_rooms" WHERE "chat_rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [hihihi@gmail.com]   [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("body", "user_id", "chat_room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body", "aaa"], ["user_id", 2], ["chat_room_id", 1], ["created_at", 2017-04-24 16:40:14 UTC], ["updated_at", 2017-04-24 16:40:14 UTC]]
[ActionCable] [hihihi@gmail.com]   [1m[35m (160.2ms)[0m  [1m[36mcommit transaction[0m
[ActionCable] [hihihi@gmail.com] [ActiveJob] Enqueued MessageBroadcastJob (Job ID: 64272996-988f-4968-b1d9-d69608c38473) to Async(default) with arguments: #<GlobalID:0x007f71d5e3bd88 @uri=#<URI::GID gid://cable-chat/Message/13>>
  [1m[36mMessage Load (1.5ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
[ActiveJob] [MessageBroadcastJob] [64272996-988f-4968-b1d9-d69608c38473] Performing MessageBroadcastJob from Async(default) with arguments: #<GlobalID:0x007f71d84c4860 @uri=#<URI::GID gid://cable-chat/Message/13>>
Started GET "/cable" for 127.0.0.1 at 2017-04-24 23:40:26 +0700
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-24 23:40:26 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
[ActiveJob] [MessageBroadcastJob] [64272996-988f-4968-b1d9-d69608c38473]   [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActionCable] [hihihi@gmail.com] Finished "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-24 23:40:39 +0700
[ActiveJob] [MessageBroadcastJob] [64272996-988f-4968-b1d9-d69608c38473]   Rendered messages/_message.html.erb (35.4ms)
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/cable" for 127.0.0.1 at 2017-04-24 23:40:39 +0700
[ActionCable] [hihihi@gmail.com] ChatRoomsChannel stopped streaming from chat_rooms_1_channel
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-24 23:40:39 +0700
[ActiveJob] [MessageBroadcastJob] [64272996-988f-4968-b1d9-d69608c38473]   [1m[36mChatRoom Load (0.4ms)[0m  [1m[34mSELECT  "chat_rooms".* FROM "chat_rooms" WHERE "chat_rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [tanghoangphong@gmail.com] Registered connection (Z2lkOi8vY2FibGUtY2hhdC9Vc2VyLzE)
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-24 23:41:04 +0700
[ActiveJob] [MessageBroadcastJob] [64272996-988f-4968-b1d9-d69608c38473] Performed MessageBroadcastJob from Async(default) in 50486.67ms
Started GET "/cable" for 127.0.0.1 at 2017-04-24 23:41:04 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-24 23:41:04 +0700
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
[ActionCable] [hihihi@gmail.com] Registered connection (Z2lkOi8vY2FibGUtY2hhdC9Vc2VyLzI)
[ActionCable] [hihihi@gmail.com] Finished "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-24 23:41:04 +0700
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [tanghoangphong@gmail.com] Registered connection (Z2lkOi8vY2FibGUtY2hhdC9Vc2VyLzE)
[ActionCable] [tanghoangphong@gmail.com] ChatRoomsChannel is transmitting the subscription confirmation
[ActionCable] [tanghoangphong@gmail.com] ChatRoomsChannel is streaming from chat_rooms_1_channel
Started GET "/cable" for 127.0.0.1 at 2017-04-24 23:41:04 +0700
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-24 23:41:04 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActionCable] [hihihi@gmail.com] Registered connection (Z2lkOi8vY2FibGUtY2hhdC9Vc2VyLzI)
[ActionCable] [hihihi@gmail.com] ChatRoomsChannel is transmitting the subscription confirmation
[ActionCable] [hihihi@gmail.com] ChatRoomsChannel is streaming from chat_rooms_1_channel
Started GET "/chat_rooms/1" for 127.0.0.1 at 2017-04-24 23:41:06 +0700
Processing by ChatRoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatRoom Load (0.2ms)[0m  [1m[34mSELECT  "chat_rooms".* FROM "chat_rooms" WHERE "chat_rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_room_id" = 1[0m
  Rendering chat_rooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered collection of messages/_message.html.erb [13 times] (18.3ms)
  Rendered chat_rooms/show.html.erb within layouts/application (23.3ms)
Completed 200 OK in 110ms (Views: 48.4ms | ActiveRecord: 3.9ms)


Started GET "/cable" for 127.0.0.1 at 2017-04-24 23:41:07 +0700
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-24 23:41:07 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActionCable] [hihihi@gmail.com] Registered connection (Z2lkOi8vY2FibGUtY2hhdC9Vc2VyLzI)
[ActionCable] [hihihi@gmail.com] ChatRoomsChannel is transmitting the subscription confirmation
[ActionCable] [hihihi@gmail.com] ChatRoomsChannel is streaming from chat_rooms_1_channel
[ActionCable] [hihihi@gmail.com] ChatRoomsChannel#send_message({"message"=>"121212", "chat_room_id"=>1})
[ActionCable] [hihihi@gmail.com]   [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
[ActionCable] [hihihi@gmail.com]   [1m[36mChatRoom Load (0.4ms)[0m  [1m[34mSELECT  "chat_rooms".* FROM "chat_rooms" WHERE "chat_rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [hihihi@gmail.com]   [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "messages" ("body", "user_id", "chat_room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body", "121212"], ["user_id", 2], ["chat_room_id", 1], ["created_at", 2017-04-24 16:41:15 UTC], ["updated_at", 2017-04-24 16:41:15 UTC]]
[ActionCable] [hihihi@gmail.com]   [1m[35m (141.0ms)[0m  [1m[36mcommit transaction[0m
[ActionCable] [hihihi@gmail.com] [ActiveJob] Enqueued MessageBroadcastJob (Job ID: 03d25e58-3716-4afd-acb4-1bdef81c6178) to Async(default) with arguments: #<GlobalID:0x007f71c8e7acc0 @uri=#<URI::GID gid://cable-chat/Message/14>>
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
[ActiveJob] [MessageBroadcastJob] [03d25e58-3716-4afd-acb4-1bdef81c6178] Performing MessageBroadcastJob from Async(default) with arguments: #<GlobalID:0x007f71c8a2e8d8 @uri=#<URI::GID gid://cable-chat/Message/14>>
Started GET "/cable" for 127.0.0.1 at 2017-04-24 23:41:16 +0700
[ActiveJob] [MessageBroadcastJob] [03d25e58-3716-4afd-acb4-1bdef81c6178]   [1m[36mChatRoom Load (0.2ms)[0m  [1m[34mSELECT  "chat_rooms".* FROM "chat_rooms" WHERE "chat_rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [MessageBroadcastJob] [03d25e58-3716-4afd-acb4-1bdef81c6178]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [MessageBroadcastJob] [03d25e58-3716-4afd-acb4-1bdef81c6178]   Rendered messages/_message.html.erb (19.7ms)
[ActiveJob] [MessageBroadcastJob] [03d25e58-3716-4afd-acb4-1bdef81c6178] [ActionCable] Broadcasting to chat_rooms_1_channel: {:message=>"<div class=\"card\">\n  <div class=\"card-block\">\n    <div class=\"row\">\n      <div class=\"col-md-1\">\n        <img alt=\"hihihi\" src=\"https://www.gravatar.com/avatar/46b66951eb69a7f1c9a24bca8edde9b6?s=40\" />\n      </div>\n      <div class=\"col-md-11\">\n        <p class=\"card-text\">\n          <span class=\"text-muted\">hihihi at 16:41:15 24 April 2017 says</span><br>\n          121212\n        </p>\n      </div>\n    </div>\n  </div>\n</div>"}
[ActiveJob] [MessageBroadcastJob] [03d25e58-3716-4afd-acb4-1bdef81c6178] Performed MessageBroadcastJob from Async(default) in 47.59ms
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-24 23:41:16 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [tanghoangphong@gmail.com] Registered connection (Z2lkOi8vY2FibGUtY2hhdC9Vc2VyLzE)
[ActionCable] [tanghoangphong@gmail.com] ChatRoomsChannel is transmitting the subscription confirmation
[ActionCable] [tanghoangphong@gmail.com] ChatRoomsChannel is streaming from chat_rooms_1_channel
Started GET "/cable" for 127.0.0.1 at 2017-04-24 23:41:22 +0700
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-24 23:41:22 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActionCable] [hihihi@gmail.com] Registered connection (Z2lkOi8vY2FibGUtY2hhdC9Vc2VyLzI)
[ActionCable] [hihihi@gmail.com] ChatRoomsChannel is transmitting the subscription confirmation
[ActionCable] [hihihi@gmail.com] ChatRoomsChannel is streaming from chat_rooms_1_channel
Started GET "/chat_rooms/1" for 127.0.0.1 at 2017-04-24 23:41:36 +0700
Processing by ChatRoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatRoom Load (0.3ms)[0m  [1m[34mSELECT  "chat_rooms".* FROM "chat_rooms" WHERE "chat_rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_room_id" = 1[0m
  Rendering chat_rooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered collection of messages/_message.html.erb [14 times] (24.4ms)
  Rendered chat_rooms/show.html.erb within layouts/application (30.6ms)
Completed 200 OK in 101ms (Views: 62.1ms | ActiveRecord: 3.4ms)


[ActionCable] [hihihi@gmail.com] Finished "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-24 23:41:36 +0700
[ActionCable] [hihihi@gmail.com] ChatRoomsChannel stopped streaming from chat_rooms_1_channel
Started GET "/cable" for 127.0.0.1 at 2017-04-24 23:41:36 +0700
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-24 23:41:36 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActionCable] [hihihi@gmail.com] Registered connection (Z2lkOi8vY2FibGUtY2hhdC9Vc2VyLzI)
[ActionCable] [hihihi@gmail.com] ChatRoomsChannel is transmitting the subscription confirmation
[ActionCable] [hihihi@gmail.com] ChatRoomsChannel is streaming from chat_rooms_1_channel
[ActionCable] [hihihi@gmail.com] ChatRoomsChannel#send_message({"message"=>"44444", "chat_room_id"=>1})
[ActionCable] [hihihi@gmail.com]   [1m[35m (0.6ms)[0m  [1m[36mbegin transaction[0m
[ActionCable] [hihihi@gmail.com]   [1m[36mChatRoom Load (0.2ms)[0m  [1m[34mSELECT  "chat_rooms".* FROM "chat_rooms" WHERE "chat_rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [hihihi@gmail.com]   [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "messages" ("body", "user_id", "chat_room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body", "44444"], ["user_id", 2], ["chat_room_id", 1], ["created_at", 2017-04-24 16:41:40 UTC], ["updated_at", 2017-04-24 16:41:40 UTC]]
[ActionCable] [hihihi@gmail.com]   [1m[35m (407.8ms)[0m  [1m[36mcommit transaction[0m
[ActionCable] [hihihi@gmail.com] [ActiveJob] Enqueued MessageBroadcastJob (Job ID: 79a5b195-80cf-4f3f-8d8a-bc5e8dd566f5) to Async(default) with arguments: #<GlobalID:0x007f71a408f030 @uri=#<URI::GID gid://cable-chat/Message/15>>
  [1m[36mMessage Load (0.8ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
[ActiveJob] [MessageBroadcastJob] [79a5b195-80cf-4f3f-8d8a-bc5e8dd566f5] Performing MessageBroadcastJob from Async(default) with arguments: #<GlobalID:0x007f71a406cb48 @uri=#<URI::GID gid://cable-chat/Message/15>>
[ActiveJob] [MessageBroadcastJob] [79a5b195-80cf-4f3f-8d8a-bc5e8dd566f5]   [1m[36mChatRoom Load (0.5ms)[0m  [1m[34mSELECT  "chat_rooms".* FROM "chat_rooms" WHERE "chat_rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [MessageBroadcastJob] [79a5b195-80cf-4f3f-8d8a-bc5e8dd566f5]   [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [MessageBroadcastJob] [79a5b195-80cf-4f3f-8d8a-bc5e8dd566f5]   Rendered messages/_message.html.erb (4.5ms)
[ActiveJob] [MessageBroadcastJob] [79a5b195-80cf-4f3f-8d8a-bc5e8dd566f5] [ActionCable] Broadcasting to chat_rooms_1_channel: {:message=>"<div class=\"card\">\n  <div class=\"card-block\">\n    <div class=\"row\">\n      <div class=\"col-md-1\">\n        <img alt=\"hihihi\" src=\"https://www.gravatar.com/avatar/46b66951eb69a7f1c9a24bca8edde9b6?s=40\" />\n      </div>\n      <div class=\"col-md-11\">\n        <p class=\"card-text\">\n          <span class=\"text-muted\">hihihi at 16:41:40 24 April 2017 says</span><br>\n          44444\n        </p>\n      </div>\n    </div>\n  </div>\n</div>"}
[ActiveJob] [MessageBroadcastJob] [79a5b195-80cf-4f3f-8d8a-bc5e8dd566f5] Performed MessageBroadcastJob from Async(default) in 19.65ms
[ActionCable] [hihihi@gmail.com] ChatRoomsChannel transmitting {"message"=>"<div class=\"card\">\n  <div class=\"card-block\">\n    <div class=\"row\">\n      <div class=\"col-md-1\">\n        <img alt=\"hihihi\" src=\"https://www.gravatar.com/avatar/46b66951eb69a7f1c9a24bca8edde9b6?s=40\" />\n      </div>\n      <div class=\"col-md-11\">\n        <p class=\... (via streamed from chat_rooms_1_channel)
[ActionCable] [tanghoangphong@gmail.com] ChatRoomsChannel transmitting {"message"=>"<div class=\"card\">\n  <div class=\"card-block\">\n    <div class=\"row\">\n      <div class=\"col-md-1\">\n        <img alt=\"hihihi\" src=\"https://www.gravatar.com/avatar/46b66951eb69a7f1c9a24bca8edde9b6?s=40\" />\n      </div>\n      <div class=\"col-md-11\">\n        <p class=\... (via streamed from chat_rooms_1_channel)
Started GET "/chat_rooms/1" for 127.0.0.1 at 2017-04-24 23:41:53 +0700
Processing by ChatRoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatRoom Load (0.2ms)[0m  [1m[34mSELECT  "chat_rooms".* FROM "chat_rooms" WHERE "chat_rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_room_id" = 1[0m
  Rendering chat_rooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered collection of messages/_message.html.erb [15 times] (19.7ms)
  Rendered chat_rooms/show.html.erb within layouts/application (23.2ms)
Completed 200 OK in 53ms (Views: 45.5ms | ActiveRecord: 1.6ms)


[ActionCable] [tanghoangphong@gmail.com] Finished "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-24 23:41:53 +0700
[ActionCable] [tanghoangphong@gmail.com] ChatRoomsChannel stopped streaming from chat_rooms_1_channel
Started GET "/cable" for 127.0.0.1 at 2017-04-24 23:41:53 +0700
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-24 23:41:53 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [tanghoangphong@gmail.com] Registered connection (Z2lkOi8vY2FibGUtY2hhdC9Vc2VyLzE)
[ActionCable] [tanghoangphong@gmail.com] ChatRoomsChannel is transmitting the subscription confirmation
[ActionCable] [tanghoangphong@gmail.com] ChatRoomsChannel is streaming from chat_rooms_1_channel
Started GET "/chat_rooms/1" for 127.0.0.1 at 2017-04-24 23:41:55 +0700
Processing by ChatRoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatRoom Load (0.4ms)[0m  [1m[34mSELECT  "chat_rooms".* FROM "chat_rooms" WHERE "chat_rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_room_id" = 1[0m
  Rendering chat_rooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered collection of messages/_message.html.erb [15 times] (19.1ms)
  Rendered chat_rooms/show.html.erb within layouts/application (22.4ms)
Completed 200 OK in 54ms (Views: 44.0ms | ActiveRecord: 1.8ms)


[ActionCable] [hihihi@gmail.com] Finished "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-24 23:41:55 +0700
[ActionCable] [hihihi@gmail.com] ChatRoomsChannel stopped streaming from chat_rooms_1_channel
Started GET "/cable" for 127.0.0.1 at 2017-04-24 23:41:56 +0700
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-24 23:41:56 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActionCable] [hihihi@gmail.com] Registered connection (Z2lkOi8vY2FibGUtY2hhdC9Vc2VyLzI)
[ActionCable] [hihihi@gmail.com] ChatRoomsChannel is transmitting the subscription confirmation
[ActionCable] [hihihi@gmail.com] ChatRoomsChannel is streaming from chat_rooms_1_channel
[ActionCable] [hihihi@gmail.com] ChatRoomsChannel#send_message({"message"=>"111111", "chat_room_id"=>1})
[ActionCable] [hihihi@gmail.com]   [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
[ActionCable] [hihihi@gmail.com]   [1m[36mChatRoom Load (0.4ms)[0m  [1m[34mSELECT  "chat_rooms".* FROM "chat_rooms" WHERE "chat_rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [hihihi@gmail.com]   [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "messages" ("body", "user_id", "chat_room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body", "111111"], ["user_id", 2], ["chat_room_id", 1], ["created_at", 2017-04-24 16:41:59 UTC], ["updated_at", 2017-04-24 16:41:59 UTC]]
[ActionCable] [hihihi@gmail.com]   [1m[35m (132.1ms)[0m  [1m[36mcommit transaction[0m
[ActionCable] [hihihi@gmail.com] [ActiveJob] Enqueued MessageBroadcastJob (Job ID: 98de53f3-ff08-493c-98cf-b0dcb8ef6ef0) to Async(default) with arguments: #<GlobalID:0x007f71d57f44e8 @uri=#<URI::GID gid://cable-chat/Message/16>>
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
[ActiveJob] [MessageBroadcastJob] [98de53f3-ff08-493c-98cf-b0dcb8ef6ef0] Performing MessageBroadcastJob from Async(default) with arguments: #<GlobalID:0x007f71d57a1400 @uri=#<URI::GID gid://cable-chat/Message/16>>
[ActiveJob] [MessageBroadcastJob] [98de53f3-ff08-493c-98cf-b0dcb8ef6ef0]   [1m[36mChatRoom Load (0.3ms)[0m  [1m[34mSELECT  "chat_rooms".* FROM "chat_rooms" WHERE "chat_rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [MessageBroadcastJob] [98de53f3-ff08-493c-98cf-b0dcb8ef6ef0]   [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [MessageBroadcastJob] [98de53f3-ff08-493c-98cf-b0dcb8ef6ef0]   Rendered messages/_message.html.erb (4.5ms)
[ActiveJob] [MessageBroadcastJob] [98de53f3-ff08-493c-98cf-b0dcb8ef6ef0] [ActionCable] Broadcasting to chat_rooms_1_channel: {:message=>"<div class=\"card\">\n  <div class=\"card-block\">\n    <div class=\"row\">\n      <div class=\"col-md-1\">\n        <img alt=\"hihihi\" src=\"https://www.gravatar.com/avatar/46b66951eb69a7f1c9a24bca8edde9b6?s=40\" />\n      </div>\n      <div class=\"col-md-11\">\n        <p class=\"card-text\">\n          <span class=\"text-muted\">hihihi at 16:41:59 24 April 2017 says</span><br>\n          111111\n        </p>\n      </div>\n    </div>\n  </div>\n</div>"}
[ActiveJob] [MessageBroadcastJob] [98de53f3-ff08-493c-98cf-b0dcb8ef6ef0] Performed MessageBroadcastJob from Async(default) in 12.79ms
[ActionCable] [hihihi@gmail.com] ChatRoomsChannel transmitting {"message"=>"<div class=\"card\">\n  <div class=\"card-block\">\n    <div class=\"row\">\n      <div class=\"col-md-1\">\n        <img alt=\"hihihi\" src=\"https://www.gravatar.com/avatar/46b66951eb69a7f1c9a24bca8edde9b6?s=40\" />\n      </div>\n      <div class=\"col-md-11\">\n        <p class=\... (via streamed from chat_rooms_1_channel)
[ActionCable] [tanghoangphong@gmail.com] ChatRoomsChannel transmitting {"message"=>"<div class=\"card\">\n  <div class=\"card-block\">\n    <div class=\"row\">\n      <div class=\"col-md-1\">\n        <img alt=\"hihihi\" src=\"https://www.gravatar.com/avatar/46b66951eb69a7f1c9a24bca8edde9b6?s=40\" />\n      </div>\n      <div class=\"col-md-11\">\n        <p class=\... (via streamed from chat_rooms_1_channel)
[ActionCable] [tanghoangphong@gmail.com] Finished "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-24 23:42:17 +0700
[ActionCable] [tanghoangphong@gmail.com] ChatRoomsChannel stopped streaming from chat_rooms_1_channel
[ActionCable] [hihihi@gmail.com] Finished "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-24 23:53:54 +0700
[ActionCable] [hihihi@gmail.com] ChatRoomsChannel stopped streaming from chat_rooms_1_channel
